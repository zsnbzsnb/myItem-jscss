<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>我的个人中心</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        .avatar-container {
            position: relative;
            margin-top: -50px;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .transition-all {
            transition: all 0.3s ease;
        }
        /* 复用 publish.html 中返回按钮样式 */
        .back-btn {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            background-color: #f3f4f6;
            color: #374151;
            transition: background-color 0.3s ease;
        }

        .back-btn:hover {
            background-color: #e5e7eb;
        }

        .back-btn i {
            margin-right: 0.5rem;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- 修改返回按钮位置和样式 -->
    <div class="container mx-auto px-4 py-8 relative">
        <div class="absolute top-4 left-4 z-10">
            <!-- 修改返回按钮类名 -->
            <a href="Main.html" class="back-btn">
                <i class="fas fa-arrow-left"></i>
                <span>返回</span>
            </a>
        </div>
        
        <!-- 顶部头像区域 -->
        <div class="flex justify-center mb-8">
            <div class="avatar-container">
                <img src="https://aidev.gemcoder.com/staticResource/echoAiSystemImages/0a1420c999f568ca506597b64ac34d1e.png"
                    alt="用户头像"
                    class="w-24 h-24 rounded-full border-4 border-white shadow-lg object-cover" />
            </div>
        </div>
        <!-- 个人信息展示区 -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-6 transition-all card-hover relative">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-xl font-bold text-gray-800">
                    <i class="fas fa-user-circle mr-2 text-blue-500"></i>
                    个人信息
                </h2>
                <!-- 修改按钮，添加点击跳转逻辑 -->
                <button 
                    class="text-blue-500 hover:text-blue-700"
                    onclick="window.location.href='updateMy.html'"
                >
                    <i class="fas fa-edit"></i>
                </button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="flex items-center">
                    <i class="fas fa-user-tag text-gray-400 mr-2"></i>
                    <span class="text-gray-700"> 用户名: </span><span id="username">张三</span> <!-- 动态替换 -->
                </div>
                <div class="flex items-center">
                    <i class="fas fa-envelope text-gray-400 mr-2"></i>
                    <span class="text-gray-700"> 邮箱: </span><span id="email">zhangsan@example.com</span> <!-- 动态替换 -->
                </div>
                <div class="flex items-center">
                    <i class="fas fa-phone text-gray-400 mr-2"></i>
                    <span class="text-gray-700"> 电话: </span><span id="phone">13800138000</span> <!-- 动态替换 -->
                </div>
                <div class="flex items-center">
                    <i class="fas fa-map-marker-alt text-gray-400 mr-2"></i>
                    <span class="text-gray-700"> 地址: </span><span id="address">北京市朝阳区</span> <!-- 动态替换 -->
                </div>
            </div>
        </div>
        <!-- 近期动态浏览 -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-6 transition-all card-hover">
            <h2 class="text-xl font-bold text-gray-800 mb-4">
                <i class="fas fa-history mr-2 text-blue-500"></i>
                近期动态
            </h2>
            <div class="space-y-4">
                <div class="flex items-start">
                    <div class="bg-blue-100 p-2 rounded-full mr-3">
                        <i class="fas fa-shopping-cart text-blue-500"></i>
                    </div>
                    <div>
                        <p class="text-gray-700">
                            您购买了
                            <span class="font-medium"> MacBook Pro 2023 </span>
                        </p>
                        <p class="text-gray-400 text-sm">2023-06-15 14:30</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <div class="bg-green-100 p-2 rounded-full mr-3">
                        <i class="fas fa-heart text-green-500"></i>
                    </div>
                    <div>
                        <p class="text-gray-700">
                            您收藏了
                            <span class="font-medium"> iPhone 14 Pro </span>
                        </p>
                        <p class="text-gray-400 text-sm">2023-06-10 09:15</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <div class="bg-yellow-100 p-2 rounded-full mr-3">
                        <i class="fas fa-comment text-yellow-500"></i>
                    </div>
                    <div>
                        <p class="text-gray-700">
                            您评论了
                            <span class="font-medium"> AirPods Pro 2 </span>
                        </p>
                        <p class="text-gray-400 text-sm">2023-06-05 16:45</p>
                    </div>
                </div>
            </div>
            <button class="mt-4 text-blue-500 hover:text-blue-700 flex items-center">
                查看更多
                <i class="fas fa-chevron-right ml-1"></i>
            </button>
        </div>
        <!-- 功能模块区域 -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- 地址簿 -->
            <div class="bg-white rounded-lg shadow-md p-6 transition-all card-hover">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-bold text-gray-800">
                        <i class="fas fa-address-book mr-2 text-blue-500"></i>
                        <a href="address.html" class="text-gray-800 no-underline">地址簿</a> <!-- 跳转地址簿页面 -->
                    </h2>
                    <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded">
                        3个地址
                    </span>
                </div>
                <div class="space-y-3">
                    <div class="border-l-4 border-blue-500 pl-3">
                        <p class="font-medium">默认地址</p>
                        <p class="text-gray-600 text-sm" id="defaultAddress">北京市朝阳区建国路88号</p> <!-- 动态展示detail_address -->
                    </div>
                </div>
                <a href="createAddress.html" class="mt-4 w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded flex items-center justify-center">
                    <i class="fas fa-plus mr-2"></i>
                    添加新地址 <!-- 跳转添加地址页面 -->
                </a>
            </div>
            <!-- 我的订单 -->
            <div class="bg-white rounded-lg shadow-md p-6 transition-all card-hover">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-bold text-gray-800">
                        <i class="fas fa-clipboard-list mr-2 text-blue-500"></i>
                        我的订单
                    </h2>
                    <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded">
                        5笔订单
                    </span>
                </div>
                <div class="grid grid-cols-4 gap-2 text-center mb-4">
                    <div class="p-2">
                        <div class="bg-blue-100 p-2 rounded-full inline-block">
                            <i class="fas fa-money-bill-wave text-blue-500"></i>
                        </div>
                        <p class="text-xs mt-1">待付款</p>
                        <span class="text-xs bg-red-100 text-red-800 rounded-full px-2">
                            2
                        </span>
                    </div>
                    <div class="p-2">
                        <div class="bg-yellow-100 p-2 rounded-full inline-block">
                            <i class="fas fa-truck text-yellow-500"></i>
                        </div>
                        <p class="text-xs mt-1">待发货</p>
                    </div>
                    <div class="p-2">
                        <div class="bg-green-100 p-2 rounded-full inline-block">
                            <i class="fas fa-box-open text-green-500"></i>
                        </div>
                        <p class="text-xs mt-1">待收货</p>
                        <span class="text-xs bg-red-100 text-red-800 rounded-full px-2">
                            1
                        </span>
                    </div>
                    <div class="p-2">
                        <div class="bg-gray-100 p-2 rounded-full inline-block">
                            <i class="fas fa-check-circle text-gray-500"></i>
                        </div>
                        <p class="text-xs mt-1">已完成</p>
                        <span class="text-xs bg-gray-100 text-gray-800 rounded-full px-2">
                            2
                        </span>
                    </div>
                </div>
                <button class="mt-2 w-full border border-blue-500 text-blue-500 hover:bg-blue-50 py-2 px-4 rounded flex items-center justify-center">
                    查看全部订单
                    <i class="fas fa-chevron-right ml-2"></i>
                </button>
            </div>
            <!-- 我的商品 -->
            <div 
                onclick="window.location.href='myProduct.html'"
                class="bg-white rounded-lg shadow-md p-6 transition-all card-hover cursor-pointer">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-bold text-gray-800">
                        <i class="fas fa-boxes mr-2 text-blue-500"></i>
                        我的商品
                    </h2>
                    <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded">
                        12件商品
                    </span>
                </div>
                <div class="grid grid-cols-3 gap-2 mb-4">
                    <img src="https://aidev.gemcoder.com/staticResource/echoAiSystemImages/d19682ddb80c65193efbed95dc7c0653.png"
                        alt="商品1"
                        class="w-full h-24 object-cover rounded" />
                    <img src="https://aidev.gemcoder.com/staticResource/echoAiSystemImages/25bedeae39cc086728e02e6992c8d686.png"
                        alt="商品2"
                        class="w-full h-24 object-cover rounded" />
                    <img src="https://aidev.gemcoder.com/staticResource/echoAiSystemImages/43484a1ed0bcd99c11bf60cfeb4bc598.png"
                        alt="商品3"
                        class="w-full h-24 object-cover rounded" />
                </div>
                <button class="mt-2 w-full border border-blue-500 text-blue-500 hover:bg-blue-50 py-2 px-4 rounded flex items-center justify-center">
                    管理我的商品
                    <i class="fas fa-cog ml-2"></i>
                </button>
            </div>
            <!-- 购物车 -->
            <div 
                onclick="window.location.href='myCart.html?from=my'"
                class="bg-white rounded-lg shadow-md p-6 transition-all card-hover cursor-pointer">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-bold text-gray-800">
                        <i class="fas fa-shopping-cart mr-2 text-blue-500"></i>
                        购物车
                    </h2>
                    <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded">
                        3件商品
                    </span>
                </div>
                <div class="space-y-3">
                    <div class="flex items-center">
                        <img src="https://aidev.gemcoder.com/staticResource/echoAiSystemImages/baf138a15c0e0899b885eb1d0a9c09d5.png"
                            alt="购物车商品1"
                            class="w-12 h-12 object-cover rounded mr-3" />
                        <div class="flex-1">
                            <p class="text-sm font-medium">智能手表</p>
                            <p class="text-xs text-gray-500">黑色</p>
                        </div>
                        <span class="text-sm font-medium"> ¥599 </span>
                    </div>
                    <div class="flex items-center">
                        <img src="https://aidev.gemcoder.com/staticResource/echoAiSystemImages/32d1946e2614c9d79bb1b50998489dfd.png"
                            alt="购物车商品2"
                            class="w-12 h-12 object-cover rounded mr-3" />
                        <div class="flex-1">
                            <p class="text-sm font-medium">蓝牙音箱</p>
                            <p class="text-xs text-gray-500">银色</p>
                        </div>
                        <span class="text-sm font-medium"> ¥299 </span>
                    </div>
                </div>
                <div class="mt-4 pt-3 border-t border-gray-200">
                    <div class="flex justify-between mb-2">
                        <span class="text-gray-600"> 合计: </span>
                        <span class="font-medium"> ¥898 </span>
                    </div>
                    <button class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded">
                        去结算
                    </button>
                </div>
            </div>
            <!-- 收藏夹 -->
            <div class="bg-white rounded-lg shadow-md p-6 transition-all card-hover">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-bold text-gray-800">
                        <i class="fas fa-heart mr-2 text-blue-500"></i>
                        收藏夹
                    </h2>
                    <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded">
                        8件商品
                    </span>
                </div>
                <div class="grid grid-cols-2 gap-2 mb-4">
                    <img src="https://aidev.gemcoder.com/staticResource/echoAiSystemImages/b8d3969f79109abd91aeae8a4c17a840.png"
                        alt="收藏商品1"
                        class="w-full h-16 object-cover rounded" />
                    <img src="https://aidev.gemcoder.com/staticResource/echoAiSystemImages/41975822fbdb5e8c6f15fbff1c0258df.png"
                        alt="收藏商品2"
                        class="w-full h-16 object-cover rounded" />
                    <img src="https://aidev.gemcoder.com/staticResource/echoAiSystemImages/0c0f1d5842521dd612b444f7ee43beff.png"
                        alt="收藏商品3"
                        class="w-full h-16 object-cover rounded" />
                    <img src="https://aidev.gemcoder.com/staticResource/echoAiSystemImages/7169d42e479f0c7c3c93315d540d2b82.png"
                        alt="收藏商品4"
                        class="w-full h-16 object-cover rounded" />
                </div>
                <button class="mt-2 w-full border border-blue-500 text-blue-500 hover:bg-blue-50 py-2 px-4 rounded flex items-center justify-center">
                    查看全部收藏
                    <i class="fas fa-chevron-right ml-2"></i>
                </button>
            </div>
            <!-- 设置 -->
            <div class="bg-white rounded-lg shadow-md p-6 transition-all card-hover">
                <h2 class="text-xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-cog mr-2 text-blue-500"></i>
                    设置
                </h2>
                <div class="space-y-3">
                    <a href="javascript:void(0);" class="flex items-center justify-between p-2 hover:bg-gray-50 rounded">
                        <div class="flex items-center">
                            <i class="fas fa-user-shield text-gray-400 mr-3"></i>
                            <span> 账号安全 </span>
                        </div>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </a>
                    <a href="javascript:void(0);" class="flex items-center justify-between p-2 hover:bg-gray-50 rounded">
                        <div class="flex items-center">
                            <i class="fas fa-bell text-gray-400 mr-3"></i>
                            <span> 通知设置 </span>
                        </div>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </a>
                    <a href="javascript:void(0);" class="flex items-center justify-between p-2 hover:bg-gray-50 rounded">
                        <div class="flex items-center">
                            <i class="fas fa-palette text-gray-400 mr-3"></i>
                            <span> 主题设置 </span>
                        </div>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </a>
                    <a href="javascript:void(0);" class="flex items-center justify-between p-2 hover:bg-gray-50 rounded" id="logoutBtn">
                        <div class="flex items-center">
                            <i class="fas fa-sign-out-alt text-gray-400 mr-3"></i>
                            <span> 退出登录 </span>
                        </div>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', async function () {
          // 立即执行数据获取
          await fetchUserInfo();
          // 调用获取购物车商品总数的接口
          await fetchCartTotal();
          // 调用获取购物车商品详情的接口
          await fetchCartItems();

          // 返回按钮点击事件
          // 注意：原代码中返回按钮的 id 是 back-btn，这里需要修正选择器
          const backBtn = document.getElementById('back-btn');
          if (backBtn) {
              backBtn.addEventListener('click', function () {
                  window.history.back();
              });
          } else {
              console.error('未找到返回按钮，ID: back-btn');
          }

          // 修改fetchUserInfo函数中的商品部分
          async function fetchUserInfo() {
              console.log('开始获取用户数据');
              const jwtToken = localStorage.getItem('jwtToken');
              if (!jwtToken) {
                  alert('请先登录');
                  window.location.href = 'login.html';
                  return;
              }

              try {
                  // 获取商品信息
                  const goodsResponse = await fetch('http://localhost:9527/goods/getByUserId', {
                      method: 'GET',
                      headers: {
                          'Authorization': `Bearer ${jwtToken}`,
                          'Content-Type': 'application/json',
                      }
                  });
                  
                  if (!goodsResponse.ok) throw new Error('商品信息接口异常');
                  const goodsData = await goodsResponse.json();
                  
                  // 精确选择"我的商品"模块的数量显示元素
                  const myGoodsCard = document.querySelector('[onclick="window.location.href=\'myProduct.html\'"]');
                  if (myGoodsCard) {
                      const goodsCountElement = myGoodsCard.querySelector('.bg-blue-100.text-blue-800.text-xs.font-medium');
                      if (goodsCountElement) {
                          goodsCountElement.textContent = `${goodsData.data.total}件商品`;
                      }
                  }

                  // 获取用户基本信息
                  console.log('发送用户信息请求'); // 调试用
                  const userResponse = await fetch('http://localhost:9527/user/getAll', {
                      method: 'GET',
                      headers: {
                          'Authorization': `Bearer ${jwtToken}`,
                          'Content-Type': 'application/json',
                      }
                  });
                  console.log('用户信息响应:', userResponse); // 调试用

                  if (!userResponse.ok) throw new Error('用户信息接口异常');
                  const userData = await userResponse.json();
                  console.log('用户数据:', userData); // 调试用

                  // 获取地址信息
                  console.log('发送地址信息请求'); // 调试用
                  const addressResponse = await fetch('http://localhost:9527/address/getByUserId', {
                      method: 'GET',
                      headers: {
                          'Authorization': `Bearer ${jwtToken}`,
                          'Content-Type': 'application/json',
                      }
                  });
                  console.log('地址信息响应:', addressResponse); // 调试用

                  if (!addressResponse.ok) throw new Error('地址信息接口异常');
                  const addressData = await addressResponse.json();
                  console.log('地址数据:', addressData); // 调试用

                  // 渲染用户信息
                  document.getElementById('username').textContent = userData.data.username;
                  document.getElementById('email').textContent = userData.data.email;
                  document.getElementById('phone').textContent = userData.data.phone;
                  
                  // 渲染地址信息
                  const addressCountElement = document.querySelector('.bg-blue-100.text-blue-800.text-xs.font-medium');
                  if (addressCountElement) {
                      addressCountElement.textContent = `${addressData.data.total}个地址`;
                  }

                  // 渲染默认地址
                  const defaultAddressElement = document.getElementById('defaultAddress');
                  const defaultAddress = addressData.data.address.find(addr => addr.isDefault === true);
                  if (defaultAddress) {
                      defaultAddressElement.textContent = 
                          `${defaultAddress.province} ${defaultAddress.city} ${defaultAddress.district} ${defaultAddress.detailAddress}`;
                  } else {
                      defaultAddressElement.textContent = '暂无默认地址';
                  }

                  // 渲染个人信息中的地址
                  const addressElement = document.getElementById('address');
                  if (defaultAddress) {
                      addressElement.textContent = `${defaultAddress.province} ${defaultAddress.city} ${defaultAddress.district}`;
                  } else {
                      addressElement.textContent = '暂无地址';
                  }

              } catch (error) {
                  console.error('数据获取失败:', error);
                  alert('获取个人信息失败，请重试');
              }
          }

          // 获取购物车商品总数
          async function fetchCartTotal() {
              try {
                  const jwtToken = localStorage.getItem('jwtToken');
                  if (!jwtToken) {
                      alert('请先登录');
                      window.location.href = 'login.html';
                      return;
                  }
                  const response = await fetch('http://localhost:9527/cart/selectTotalByUserId', {
                      method: 'GET',
                      headers: {
                          'Authorization': `Bearer ${jwtToken}`,
                          'Content-Type': 'application/json'
                      }
                  });
                  if (response.status === 401) {
                      localStorage.removeItem('jwtToken');
                      window.location.href = 'login.html';
                      return;
                  }
                  const result = await response.json();
                  console.log('获取购物车商品总数结果:', result);
                  if (result.code === "200" && result.data !== undefined) {
                      // 定位购物车模块中显示商品数量的元素
                      const cartCountElement = document.querySelector('[onclick="window.location.href=\'myCart.html?from=my\'"] .bg-blue-100.text-blue-800.text-xs.font-medium');
                      if (cartCountElement) {
                          cartCountElement.textContent = `${result.data}件商品`;
                      }
                  }
              } catch (error) {
                  console.error('获取购物车商品总数失败:', error);
                  alert('获取购物车商品总数失败，请重试');
              }
          }

          // 获取购物车商品详情
          async function fetchCartItems() {
              try {
                  const jwtToken = localStorage.getItem('jwtToken');
                  if (!jwtToken) {
                      alert('请先登录');
                      window.location.href = 'login.html';
                      return;
                  }
                  console.log('开始请求购物车商品详情接口');
                  const response = await fetch('http://localhost:9527/cart/getByUserId', {
                      method: 'GET',
                      headers: {
                          'Authorization': `Bearer ${jwtToken}`,
                          'Content-Type': 'application/json'
                      }
                  });
                  console.log('购物车商品详情接口响应状态:', response.status);
                  if (response.status === 401) {
                      localStorage.removeItem('jwtToken');
                      window.location.href = 'login.html';
                      return;
                  }
                  const result = await response.json();
                  console.log('获取购物车商品详情结果:', result);

                  // 定位容器元素
                  const cartItemsContainer = document.querySelector('[onclick="window.location.href=\'myCart.html?from=my\'"] .space-y-3');
                  const totalPriceElement = document.querySelector('[onclick="window.location.href=\'myCart.html?from=my\'"] .mt-4.pt-3.border-t.border-gray-200 .font-medium');

                  // 检查元素是否成功获取
                  if (!cartItemsContainer || !totalPriceElement) {
                      console.error('未找到购物车商品展示容器或合计金额元素');
                      return;
                  }

                  if (result.code === "200" && result.data && result.data.length > 0) {
                      const cartItems = result.data;
                      let totalPrice = 0;
                      cartItemsContainer.innerHTML = '';

                      // 只展示前两个商品
                      const itemsToShow = cartItems.slice(0, 2);
                      itemsToShow.forEach(item => {
                          // 检查必要字段是否存在
                          const productName = item.productName || '未命名商品';
                          const price = parseFloat(item.price) || 0;
                          const quantity = parseInt(item.quantity) || 1;
                          const photos = item.photos?.trim() || 'https://aidev.gemcoder.com/staticResource/echoAiSystemImages/e2b6bdb306e7c0cdf7cfd01c8575cd9c.png';

                          const itemTotal = price * quantity;
                          totalPrice += itemTotal;
                          const itemHtml = `
                              <div class="flex items-center">
                                  <img src="${photos}"
                                      alt="${productName}"
                                      class="w-12 h-12 object-cover rounded mr-3" />
                                  <div class="flex-1">
                                      <p class="text-sm font-medium">${productName}</p>
                                      <p class="text-xs text-gray-500">${item.specs || ''}</p>
                                  </div>
                                  <span class="text-sm font-medium"> ¥${itemTotal.toFixed(2)} </span>
                              </div>
                          `;
                          cartItemsContainer.insertAdjacentHTML('beforeend', itemHtml);
                      });

                      // 渲染合计金额
                      totalPriceElement.textContent = `¥${totalPrice.toFixed(2)}`;
                  } else {
                      // 购物车为空的情况
                      cartItemsContainer.innerHTML = `
                          <div class="text-center text-gray-500 p-2">
                              <p class="text-sm">购物车为空</p>
                          </div>
                      `;
                      totalPriceElement.textContent = '¥0.00';
                  }
              } catch (error) {
                  console.error('获取购物车商品详情失败:', error);
                  alert('获取购物车商品详情失败，请重试');
              }
          }

          // 其他交互逻辑（与原始代码一致）
          var clickableElements = document.querySelectorAll('[href="javascript:void(0);"], button');
          clickableElements.forEach(function (el) {
              el.addEventListener('mousedown', function () {
                  this.style.transform = 'scale(0.98)';
              });
              el.addEventListener('mouseup', function () {
                  this.style.transform = 'scale(1)';
              });
              el.addEventListener('mouseleave', function () {
                  this.style.transform = 'scale(1)';
              });
          });
  
          var cards = document.querySelectorAll('.card-hover');
          setTimeout(function () {
              cards.forEach(function (card, index) {
                  setTimeout(function () {
                      card.style.opacity = '1';
                  }, index * 100);
              });
          }, 100);
          cards.forEach(function (card) {
              card.style.opacity = '0';
              card.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
          });
      });
      // 退出登录按钮点击事件
      document.getElementById('logoutBtn').addEventListener('click', function() {
          // 清除JWT令牌
          localStorage.removeItem('jwtToken');
          // 跳转到登录页面
          window.location.href = 'login.html';
      });
  </script>
</body>
</html>